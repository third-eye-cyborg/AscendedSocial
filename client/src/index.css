@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap');
@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Mobile responsiveness fixes */
html, body {
  overflow-x: hidden;
  width: 100%;
  max-width: 100vw;
  min-height: 100vh;
}

* {
  box-sizing: border-box;
}

/* Prevent card overflow issues */
.container, [class*="container"] {
  max-width: 100%;
  overflow-x: hidden;
}

/* Ensure cards don't interfere with bottom navigation and have proper spacing from sidebar */
@media (max-width: 1279px) {
  /* Mobile/tablet layout - no sidebar, just bottom nav spacing */
  main, .main-content, [data-main="true"] {
    padding-bottom: 100px; /* Add space above bottom navigation */
  }
  
  /* Fix card containers that might overflow on mobile */
  .card, [class*="card"], [data-testid*="card"] {
    max-width: calc(100vw - 2rem); /* Account for mobile margins */
    margin-left: auto;
    margin-right: auto;
    overflow-x: hidden;
  }
  
  /* Specific fixes for post and vision cards on mobile */
  [data-testid*="post-"], [data-testid*="vision-"], [data-testid*="card-"] {
    max-width: calc(100vw - 2rem); /* Account for mobile margins */
    margin-left: auto;
    margin-right: auto;
  }
}


/* Ensure app always has minimum height on mobile */
#root {
  min-height: 100vh;
  width: 100%;
}


/* Ensure no elements exceed viewport width */
@media (max-width: 640px) {
  * {
    max-width: 100vw !important;
  }
  
  .container, [class*="container"] {
    padding-left: 0.75rem;
    padding-right: 0.75rem;
  }
}


/* Fix mobile bottom navigation positioning issues during scroll */
@media (max-width: 1279px) {
  /* Target the mobile navigation specifically - use more specific selector */
  .xl\\:hidden nav.fixed.bottom-0 {
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    z-index: 9999 !important;
    transform: translateZ(0) !important; /* Hardware acceleration for smoother performance */
    -webkit-transform: translateZ(0) !important;
    backface-visibility: hidden !important;
    -webkit-backface-visibility: hidden !important;
    will-change: transform !important;
  }
  
  /* Fix for mobile Safari viewport height changes during scroll */
  @supports (-webkit-touch-callout: none) {
    /* Mobile Safari specific fixes */
    .xl\\:hidden nav.fixed.bottom-0 {
      bottom: env(safe-area-inset-bottom, 0) !important;
      padding-bottom: env(safe-area-inset-bottom, 0) !important;
    }
  }
}


/* Uppy Modal Complete Styling */
.uppy-Root {
  color: white !important;
  font-family: 'Inter', sans-serif !important;
}

.uppy-Dashboard-inner {
  background-color: hsl(245, 35%, 15%) !important;
  color: white !important;
  border: 1px solid hsl(232, 100%, 67%, 0.3) !important;
  border-radius: 12px !important;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3), 0 0 20px rgba(87, 113, 255, 0.2) !important;
}

.uppy-Dashboard-overlay {
  background-color: rgba(0, 0, 0, 0.8) !important;
  backdrop-filter: blur(8px) !important;
}

/* Close/Exit Button */
.uppy-Dashboard-close {
  background: hsl(245, 35%, 20%) !important;
  border: 1px solid hsl(232, 100%, 67%, 0.5) !important;
  color: white !important;
  width: 32px !important;
  height: 32px !important;
  border-radius: 8px !important;
  transition: all 0.2s ease !important;
  cursor: pointer !important;
  z-index: 1000 !important;
  position: relative !important;
}

.uppy-Dashboard-close:hover {
  background: hsl(232, 100%, 67%) !important;
  transform: scale(1.05) !important;
  box-shadow: 0 0 12px rgba(87, 113, 255, 0.4) !important;
}

.uppy-Dashboard-close:before {
  font-size: 16px !important;
  line-height: 1 !important;
}

/* Drop zone styling */
.uppy-Dashboard-dropFilesHereHint {
  color: white !important;
  font-weight: 600 !important;
  font-size: 18px !important;
}

.uppy-Dashboard-browse {
  color: hsl(232, 100%, 67%) !important;
  text-decoration: underline !important;
  font-weight: 500 !important;
}

.uppy-Dashboard-browse:hover {
  color: hsl(232, 100%, 75%) !important;
}

.uppy-Dashboard-AddFiles-title {
  color: white !important;
  font-size: 16px !important;
  font-weight: 600 !important;
}

.uppy-size--md .uppy-Dashboard-AddFiles-title {
  color: white !important;
}

/* Upload button styling */
.uppy-StatusBar-actionBtn--upload {
  background: linear-gradient(135deg, hsl(232, 100%, 67%), hsl(277, 48%, 58%)) !important;
  border: none !important;
  color: white !important;
  padding: 8px 16px !important;
  border-radius: 8px !important;
  font-weight: 600 !important;
  transition: all 0.2s ease !important;
  cursor: pointer !important;
}

.uppy-StatusBar-actionBtn--upload:hover {
  transform: translateY(-1px) !important;
  box-shadow: 0 4px 12px rgba(87, 113, 255, 0.3) !important;
}

.uppy-StatusBar-actionBtn--upload:disabled {
  background: hsl(245, 35%, 25%) !important;
  color: hsl(0, 0%, 60%) !important;
  cursor: not-allowed !important;
}

/* Progress bar */
.uppy-StatusBar-progress {
  background: hsl(245, 35%, 25%) !important;
  border-radius: 4px !important;
}

.uppy-StatusBar-progressBarFill {
  background: linear-gradient(90deg, hsl(232, 100%, 67%), hsl(277, 48%, 58%)) !important;
  border-radius: 4px !important;
}

/* File items */
.uppy-Dashboard-Item {
  background: hsl(245, 35%, 18%) !important;
  border: 1px solid hsl(245, 20%, 30%) !important;
  border-radius: 8px !important;
}

.uppy-Dashboard-Item-name {
  color: white !important;
}

.uppy-Dashboard-Item-status {
  color: hsl(0, 0%, 80%) !important;
}

/* Status bar */
.uppy-StatusBar {
  background: hsl(245, 35%, 18%) !important;
  border-top: 1px solid hsl(245, 20%, 30%) !important;
}

/* Select dropdown overrides for explore page */
[data-radix-select-content] {
  background: hsl(245, 35%, 18%) !important;
  border: 1px solid hsl(232, 100%, 67%, 0.3) !important;
  border-radius: 8px !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5) !important;
}

[data-radix-select-item] {
  color: white !important;
  background: transparent !important;
}

[data-radix-select-item]:hover,
[data-radix-select-item][data-highlighted],
[data-radix-select-content] [data-radix-select-item]:hover,
[data-radix-select-content] [data-radix-select-item][data-highlighted],
.select-item:hover,
.select-item[data-highlighted] {
  background: hsl(232, 45%, 15%, 0.9) !important;
  color: white !important;
}

/* Additional specific targeting for select items */
[role="option"]:hover,
[role="option"][data-highlighted],
[data-state="checked"]:hover,
[data-state="checked"][data-highlighted] {
  background: hsl(232, 45%, 15%, 0.9) !important;
  color: white !important;
}

/* Tooltip z-index fixes */
[data-radix-tooltip-content] {
  z-index: 9999 !important;
  position: fixed !important;
}

[data-radix-tooltip-trigger] {
  position: relative !important;
  z-index: 1 !important;
}

/* Force tooltip portal to highest layer */
[data-radix-portal] {
  z-index: 9999 !important;
}

/* Override any overflow hidden on post cards */
.post-card-container {
  overflow: visible !important;
  position: relative;
}

/* Chakra legend tooltip fixes - create better stacking context */
.chakra-legend {
  position: relative;
  z-index: 10;
}

.chakra-legend-item {
  position: static !important;
}

/* Create portal for tooltips to escape container bounds */
[data-radix-popper-content-wrapper][data-side] {
  z-index: 9999 !important;
  position: fixed !important;
}

/* Tooltip content positioning and width constraints */
[data-radix-tooltip-content] {
  max-width: 280px !important;
  word-wrap: break-word !important;
  z-index: 9999 !important;
  position: fixed !important;
}

/* Ensure tooltip doesn't exceed viewport */
[data-radix-tooltip-content][data-side="right"] {
  transform: translateX(-10px) !important;
}

[data-radix-tooltip-content][data-side="left"] {
  transform: translateX(10px) !important;
}

/* Force tooltip to use better positioning */
.chakra-legend [data-radix-tooltip-trigger] {
  position: static !important;
}

/* Override container overflow for the entire post card area - but keep images contained */
.post-card-container {
  overflow: visible !important;
}

/* Ensure images and media stay within post boundaries */
.post-card-container img,
.post-card-container video {
  max-width: 100% !important;
  overflow: hidden !important;
}

/* Keep chakra legend tooltips visible */
.chakra-legend {
  overflow: visible !important;
}

.uppy-StatusBar-content {
  color: white !important;
}

/* Add Files area */
.uppy-Dashboard-AddFiles {
  border: 2px dashed hsl(232, 100%, 67%, 0.3) !important;
  border-radius: 12px !important;
  background: hsl(245, 35%, 12%) !important;
  transition: all 0.2s ease !important;
}

.uppy-Dashboard-AddFiles:hover {
  border-color: hsl(232, 100%, 67%, 0.5) !important;
  background: hsl(245, 35%, 14%) !important;
}

.uppy-Dashboard-AddFiles-list {
  color: hsl(0, 0%, 85%) !important;
}

/* Header */
.uppy-Dashboard-title {
  color: white !important;
  font-weight: 600 !important;
}

:root {
  --background: hsl(0, 0%, 100%);
  --foreground: hsl(210, 25%, 7.8431%);
  --card: hsl(180, 6.6667%, 97.0588%);
  --card-foreground: hsl(210, 25%, 7.8431%);
  --popover: hsl(0, 0%, 100%);
  --popover-foreground: hsl(210, 25%, 7.8431%);
  --primary: hsl(232, 100%, 67%);
  --primary-foreground: hsl(0, 0%, 100%);
  --secondary: hsl(277, 48%, 58%);
  --secondary-foreground: hsl(0, 0%, 100%);
  --muted: hsl(240, 1.9608%, 90%);
  --muted-foreground: hsl(210, 25%, 7.8431%);
  --accent: hsl(211.5789, 51.3514%, 92.7451%);
  --accent-foreground: hsl(203.8863, 88.2845%, 53.1373%);
  --destructive: hsl(356.3033, 90.5579%, 54.3137%);
  --destructive-foreground: hsl(0, 0%, 100%);
  --border: hsl(201.4286, 30.4348%, 90.9804%);
  --input: hsl(200, 23.0769%, 97.4510%);
  --ring: hsl(202.8169, 89.1213%, 53.1373%);
  --chart-1: hsl(203.8863, 88.2845%, 53.1373%);
  --chart-2: hsl(159.7826, 100%, 36.0784%);
  --chart-3: hsl(42.0290, 92.8251%, 56.2745%);
  --chart-4: hsl(147.1429, 78.5047%, 41.9608%);
  --chart-5: hsl(341.4894, 75.2000%, 50.9804%);
  --sidebar: hsl(180, 6.6667%, 97.0588%);
  --sidebar-foreground: hsl(210, 25%, 7.8431%);
  --sidebar-primary: hsl(203.8863, 88.2845%, 53.1373%);
  --sidebar-primary-foreground: hsl(0, 0%, 100%);
  --sidebar-accent: hsl(211.5789, 51.3514%, 92.7451%);
  --sidebar-accent-foreground: hsl(203.8863, 88.2845%, 53.1373%);
  --sidebar-border: hsl(205.0000, 25.0000%, 90.5882%);
  --sidebar-ring: hsl(202.8169, 89.1213%, 53.1373%);
  
  /* Spiritual/Mystical Colors */
  --cosmic: hsl(245, 58%, 10%);
  --cosmic-dark: hsl(245, 70%, 6%);
  --cosmic-light: hsl(245, 35%, 15%);
  --accent-light: hsl(340, 82%, 70%);
  
  /* Improved contrast colors for accessibility */
  --text-muted: hsl(0, 0%, 90%);
  --text-subtle: hsl(0, 0%, 95%);
  --text-secondary: hsl(0, 0%, 98%);
  
  /* Chakra Colors */
  --chakra-root: hsl(0, 100%, 50%);
  --chakra-sacral: hsl(30, 100%, 50%);
  --chakra-solar: hsl(60, 100%, 50%);
  --chakra-heart: hsl(120, 100%, 35%);
  --chakra-throat: hsl(240, 100%, 50%);
  --chakra-third: hsl(260, 100%, 45%);
  --chakra-crown: hsl(280, 100%, 41%);
  
  --font-sans: 'Inter', 'Open Sans', sans-serif;
  --font-serif: Georgia, serif;
  --font-mono: Menlo, monospace;
  --font-display: 'Poppins', 'Inter', sans-serif;
  --radius: 1.3rem;
  --shadow-2xs: 0px 2px 0px 0px hsl(202.8169, 89.1213%, 53.1373%, 0.00);
  --shadow-xs: 0px 2px 0px 0px hsl(202.8169, 89.1213%, 53.1373%, 0.00);
  --shadow-sm: 0px 2px 0px 0px hsl(202.8169, 89.1213%, 53.1373%, 0.00), 0px 1px 2px -1px hsl(202.8169, 89.1213%, 53.1373%, 0.00);
  --shadow: 0px 2px 0px 0px hsl(202.8169, 89.1213%, 53.1373%, 0.00), 0px 1px 2px -1px hsl(202.8169, 89.1213%, 53.1373%, 0.00);
  --shadow-md: 0px 2px 0px 0px hsl(202.8169, 89.1213%, 53.1373%, 0.00), 0px 2px 4px -1px hsl(202.8169, 89.1213%, 53.1373%, 0.00);
  --shadow-lg: 0px 2px 0px 0px hsl(202.8169, 89.1213%, 53.1373%, 0.00), 0px 4px 6px -1px hsl(202.8169, 89.1213%, 53.1373%, 0.00);
  --shadow-xl: 0px 2px 0px 0px hsl(202.8169, 89.1213%, 53.1373%, 0.00), 0px 8px 10px -1px hsl(202.8169, 89.1213%, 53.1373%, 0.00);
  --shadow-2xl: 0px 2px 0px 0px hsl(202.8169, 89.1213%, 53.1373%, 0.00);
  --tracking-normal: 0em;
  --spacing: 0.25rem;
}

.dark {
  --background: hsl(245, 58%, 10%);
  --foreground: hsl(0, 0%, 100%);
  --card: hsl(245, 35%, 15%);
  --card-foreground: hsl(0, 0%, 95%);
  --popover: hsl(245, 58%, 10%);
  --popover-foreground: hsl(0, 0%, 100%);
  --primary: hsl(232, 100%, 67%);
  --primary-foreground: hsl(0, 0%, 100%);
  --secondary: hsl(277, 48%, 58%);
  --secondary-foreground: hsl(0, 0%, 100%);
  --muted: hsl(245, 35%, 15%);
  --muted-foreground: hsl(0, 0%, 95%);
  --accent: hsl(245, 35%, 20%);
  --accent-foreground: hsl(0, 0%, 95%);
  --destructive: hsl(356.3033, 90.5579%, 54.3137%);
  --destructive-foreground: hsl(0, 0%, 100%);
  --border: hsl(245, 20%, 25%);
  --input: hsl(245, 35%, 20%);
  --ring: hsl(232, 100%, 67%);
  --chart-1: hsl(203.8863, 88.2845%, 53.1373%);
  --chart-2: hsl(159.7826, 100%, 36.0784%);
  --chart-3: hsl(42.0290, 92.8251%, 56.2745%);
  --chart-4: hsl(147.1429, 78.5047%, 41.9608%);
  --chart-5: hsl(341.4894, 75.2000%, 50.9804%);
  --sidebar: hsl(245, 35%, 15%);
  --sidebar-foreground: hsl(0, 0%, 95%);
  --sidebar-primary: hsl(232, 100%, 67%);
  --sidebar-primary-foreground: hsl(0, 0%, 100%);
  --sidebar-accent: hsl(245, 35%, 20%);
  --sidebar-accent-foreground: hsl(0, 0%, 95%);
  --sidebar-border: hsl(245, 20%, 30%);
  --sidebar-ring: hsl(232, 100%, 67%);
  
  /* Chakra Colors for dark theme */
  --chakra-root: hsl(0, 100%, 50%);
  --chakra-sacral: hsl(30, 100%, 50%);
  --chakra-solar: hsl(60, 100%, 50%);
  --chakra-heart: hsl(120, 100%, 35%);
  --chakra-throat: hsl(240, 100%, 50%);
  --chakra-third: hsl(260, 100%, 45%);
  --chakra-crown: hsl(280, 100%, 41%);
  
  --font-sans: 'Inter', 'Open Sans', sans-serif;
  --font-serif: Georgia, serif;
  --font-mono: Menlo, monospace;
  --font-display: 'Poppins', 'Inter', sans-serif;
  --radius: 1.3rem;
  --shadow-2xs: 0px 2px 0px 0px hsl(202.8169, 89.1213%, 53.1373%, 0.00);
  --shadow-xs: 0px 2px 0px 0px hsl(202.8169, 89.1213%, 53.1373%, 0.00);
  --shadow-sm: 0px 2px 0px 0px hsl(202.8169, 89.1213%, 53.1373%, 0.00), 0px 1px 2px -1px hsl(202.8169, 89.1213%, 53.1373%, 0.00);
  --shadow: 0px 2px 0px 0px hsl(202.8169, 89.1213%, 53.1373%, 0.00), 0px 1px 2px -1px hsl(202.8169, 89.1213%, 53.1373%, 0.00);
  --shadow-md: 0px 2px 0px 0px hsl(202.8169, 89.1213%, 53.1373%, 0.00), 0px 2px 4px -1px hsl(202.8169, 89.1213%, 53.1373%, 0.00);
  --shadow-lg: 0px 2px 0px 0px hsl(202.8169, 89.1213%, 53.1373%, 0.00), 0px 4px 6px -1px hsl(202.8169, 89.1213%, 53.1373%, 0.00);
  --shadow-xl: 0px 2px 0px 0px hsl(202.8169, 89.1213%, 53.1373%, 0.00), 0px 8px 10px -1px hsl(202.8169, 89.1213%, 53.1373%, 0.00);
  --shadow-2xl: 0px 2px 0px 0px hsl(202.8169, 89.1213%, 53.1373%, 0.00);
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply font-sans antialiased bg-cosmic text-white;
    background: hsl(245, 58%, 10%);
    overflow-x: hidden;
  }
  
  html {
    @apply dark;
  }
}

@layer components {
  /* Chakra Glow Effects */
  .chakra-glow-root { 
    box-shadow: 0 0 15px var(--chakra-root), inset 0 0 15px hsl(0, 100%, 50%, 0.1);
    border-color: var(--chakra-root);
  }
  .chakra-glow-sacral { 
    box-shadow: 0 0 15px var(--chakra-sacral), inset 0 0 15px hsl(30, 100%, 50%, 0.1);
    border-color: var(--chakra-sacral);
  }
  .chakra-glow-solar { 
    box-shadow: 0 0 15px var(--chakra-solar), inset 0 0 15px hsl(60, 100%, 50%, 0.1);
    border-color: var(--chakra-solar);
  }
  .chakra-glow-heart { 
    box-shadow: 0 0 15px var(--chakra-heart), inset 0 0 15px hsl(120, 100%, 35%, 0.1);
    border-color: var(--chakra-heart);
  }
  .chakra-glow-throat { 
    box-shadow: 0 0 15px var(--chakra-throat), inset 0 0 15px hsl(240, 100%, 50%, 0.1);
    border-color: var(--chakra-throat);
  }
  .chakra-glow-third { 
    box-shadow: 0 0 15px var(--chakra-third), inset 0 0 15px hsl(260, 100%, 45%, 0.1);
    border-color: var(--chakra-third);
  }
  .chakra-glow-crown { 
    box-shadow: 0 0 15px var(--chakra-crown), inset 0 0 15px hsl(280, 100%, 41%, 0.1);
    border-color: var(--chakra-crown);
  }

  /* Aura Visualization */
  .aura-visualization {
    background: hsl(245, 35%, 15%);
    border: 1px solid hsl(232, 100%, 67%, 0.3);
  }

  /* Sigil Container */
  .sigil-container {
    background: linear-gradient(135deg, hsl(232, 100%, 67%), hsl(277, 48%, 58%));
    border: 1px solid hsl(232, 100%, 67%, 0.5);
    border-radius: 50%;
    overflow: hidden;
  }

  /* Animated Elements */
  .animate-glow {
    border: 1px solid hsl(232, 100%, 67%, 0.08);
    animation: glow-pulse 86400s ease-in-out infinite;
  }

  .animate-fade-in {
    animation: fade-in 0.6s ease-out;
  }

  .animate-slide-up {
    animation: slide-up 0.8s ease-out;
  }

  .animate-scale-in {
    animation: scale-in 0.4s ease-out;
  }

  .hover-lift {
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }

  .hover-lift:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(87, 113, 255, 0.15);
  }

  .animate-float {
    animation: float 3s ease-in-out infinite;
  }

  .animate-pulse-slow {
    animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  .animate-gradient-x {
    background-size: 200% 200%;
    animation: gradient-x 3s ease infinite;
  }

  .text-gradient {
    background: linear-gradient(135deg, #5771FF, #9B59B6, #E74C3C);
    background-size: 200% 200%;
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: gradient-x 4s ease infinite;
  }

  .hover-glow:hover {
    box-shadow: 0 0 30px rgba(87, 113, 255, 0.3), 0 0 60px rgba(87, 113, 255, 0.1);
  }

  .premium-blur {
    backdrop-filter: blur(20px) saturate(150%);
    -webkit-backdrop-filter: blur(20px) saturate(150%);
  }
}

@layer utilities {
  /* Custom Animations */
  @keyframes glow-pulse {
    0% {
      box-shadow: 0 0 1px hsl(232, 100%, 67%, 0.001), 
                  0 0 2px hsl(232, 100%, 67%, 0.0005),
                  inset 0 0 1px hsl(232, 100%, 67%, 0.0005);
    }
    50% {
      box-shadow: 0 0 1px hsl(232, 100%, 67%, 0.002), 
                  0 0 2px hsl(232, 100%, 67%, 0.001),
                  inset 0 0 1px hsl(232, 100%, 67%, 0.001);
    }
    100% {
      box-shadow: 0 0 2px hsl(232, 100%, 67%, 0.003), 
                  0 0 3px hsl(232, 100%, 67%, 0.002),
                  inset 0 0 2px hsl(232, 100%, 67%, 0.002);
    }
  }
  
  @keyframes glow {
    0% { box-shadow: 0 0 5px currentColor; }
    100% { box-shadow: 0 0 20px currentColor, 0 0 30px currentColor; }
  }

  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
  }

  @keyframes gradient-shift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  @keyframes gradient-x {
    0% { background-position: 0% 50%; }
    25% { background-position: 100% 50%; }
    50% { background-position: 100% 100%; }
    75% { background-position: 0% 100%; }
    100% { background-position: 0% 50%; }
  }

  @keyframes shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
  }

  @keyframes bounce-slow {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-5px); }
  }

  @keyframes rotate-slow {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }

  @keyframes fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  @keyframes slide-up {
    from { 
      opacity: 0;
      transform: translateY(20px); 
    }
    to { 
      opacity: 1;
      transform: translateY(0); 
    }
  }

  @keyframes scale-in {
    from { 
      opacity: 0;
      transform: scale(0.95); 
    }
    to { 
      opacity: 1;
      transform: scale(1); 
    }
  }

  @keyframes gentle-pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
  }

  /* Font Utilities */
  .font-display {
    font-family: var(--font-display);
  }

  /* High Contrast Text Utilities */
  .text-high-contrast {
    color: hsl(0, 0%, 98%) !important;
  }

  .text-medium-contrast {
    color: hsl(0, 0%, 90%) !important;
  }

  .text-low-contrast {
    color: hsl(0, 0%, 80%) !important;
  }

  /* Override common low contrast classes */
  .text-gray-400 {
    color: hsl(0, 0%, 90%) !important;
  }

  .text-gray-500 {
    color: hsl(0, 0%, 85%) !important;
  }

  .text-gray-600 {
    color: hsl(0, 0%, 80%) !important;
  }
  
  .text-gray-300 {
    color: hsl(0, 0%, 92%) !important;
  }

  .text-muted-foreground {
    color: hsl(0, 0%, 90%) !important;
  }

  /* Improve button contrast */
  .text-muted {
    color: hsl(0, 0%, 88%) !important;
  }
  
  /* Ensure better contrast for primary text */
  .text-white {
    color: hsl(0, 0%, 100%) !important;
  }
  
  /* Improve secondary text contrast */
  .text-white\/90 {
    color: hsl(0, 0%, 90%) !important;
  }
  
  .text-white\/80 {
    color: hsl(0, 0%, 85%) !important;
  }
  
  .text-white\/70 {
    color: hsl(0, 0%, 80%) !important;
  }
  
  /* Fix subtle text contrast */
  .text-subtle {
    color: hsl(0, 0%, 95%) !important;
  }
  
  /* Improve text color for various components */
  .text-primary\/80 {
    color: hsl(232, 100%, 75%) !important;
  }
  
  /* Better contrast for labels */
  .text-sm {
    color: inherit;
  }

  /* Spiritual Color Utilities */
  .text-cosmic {
    color: var(--cosmic);
  }

  .bg-cosmic {
    background-color: var(--cosmic);
  }

  .text-cosmic-light {
    color: var(--cosmic-light);
  }

  .bg-cosmic-light {
    background-color: var(--cosmic-light);
  }

  .text-cosmic-dark {
    color: var(--cosmic-dark);
  }

  .bg-cosmic-dark {
    background-color: var(--cosmic-dark);
  }

  .text-accent-light {
    color: var(--accent-light);
  }

  .bg-accent-light {
    background-color: var(--accent-light);
  }

  /* Chakra Color Utilities */
  .text-chakra-root { color: var(--chakra-root); }
  .bg-chakra-root { background-color: var(--chakra-root); }
  .text-chakra-sacral { color: var(--chakra-sacral); }
  .bg-chakra-sacral { background-color: var(--chakra-sacral); }
  .text-chakra-solar { color: var(--chakra-solar); }
  .bg-chakra-solar { background-color: var(--chakra-solar); }
  .text-chakra-heart { color: var(--chakra-heart); }
  .bg-chakra-heart { background-color: var(--chakra-heart); }
  .text-chakra-throat { color: var(--chakra-throat); }
  .bg-chakra-throat { background-color: var(--chakra-throat); }
  .text-chakra-third { color: var(--chakra-third); }
  .bg-chakra-third { background-color: var(--chakra-third); }
  .text-chakra-crown { color: var(--chakra-crown); }
  .bg-chakra-crown { background-color: var(--chakra-crown); }

  /* Premium Glass Effects */
  .glass-effect {
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  /* Premium Glow Effects */
  .glow-primary {
    box-shadow: 0 0 20px rgba(87, 113, 255, 0.3);
  }

/* Cloudflare Security Message Styling */
[data-cloudflare] *,
.cf-turnstile *,
.cf-footer *,
.cloudflare-security *,
.cf-security *,
#cf-security *,
.cf-spam-protection *,
#cf-spam-protection *,
iframe[src*="cloudflare"] *,
iframe[src*="turnstile"] *,
div[class*="cloudflare"] *,
div[id*="cloudflare"] *,
div[class*="cf-"] *,
div[id*="cf-"] *,
span[class*="cloudflare"] *,
span[id*="cloudflare"] *,
p[class*="cloudflare"] *,
p[id*="cloudflare"] *,
small[class*="cloudflare"] *,
small[id*="cloudflare"] * {
  color: white !important;
  fill: white !important;
}

/* Target specific Cloudflare footer elements */
.cf-footer,
.cf-footer *,
#cf-footer,
#cf-footer *,
.cloudflare-footer,
.cloudflare-footer *,
div[style*="position: fixed"] span,
div[style*="position: fixed"] p,
div[style*="position: fixed"] div,
div[style*="position: fixed"] small {
  color: white !important;
  fill: white !important;
}

/* Override any text color on landing page for Cloudflare elements */
.bg-gradient-to-br.from-cosmic * {
  /* Target any elements containing Cloudflare text */
}

/* Force white color on all fixed positioned elements that might be Cloudflare */
div[style*="position: fixed"]:not(.header):not(.navigation):not(.menu) {
  color: white !important;
}

div[style*="position: fixed"]:not(.header):not(.navigation):not(.menu) * {
  color: white !important;
  fill: white !important;
}

/* Additional targeting for any external security badges/text */
iframe + div,
iframe + span,
iframe + p,
iframe + small {
  color: white !important;
}

  .glow-secondary {
    box-shadow: 0 0 20px rgba(155, 89, 182, 0.3);
  }

  /* Utility Classes */
  .max-w-8xl {
    max-width: 88rem;
  }

  /* Scrollbar Styles */
  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
  }
  
  .scrollbar-thumb-primary\/30::-webkit-scrollbar-thumb {
    background-color: hsl(232, 100%, 67%, 0.3);
    border-radius: 3px;
  }
  
  .scrollbar-track-transparent::-webkit-scrollbar-track {
    background-color: transparent;
  }

  /* Global scrollbar styling for main page */
  ::-webkit-scrollbar {
    width: 8px;
  }
  
  ::-webkit-scrollbar-thumb {
    background-color: hsl(232, 100%, 67%, 0.4);
    border-radius: 4px;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    background-color: hsl(232, 100%, 67%, 0.6);
  }
  
  ::-webkit-scrollbar-track {
    background-color: transparent;
  }

  /* Responsive Typography */
  @media (max-width: 640px) {
    .text-7xl {
      font-size: 3rem;
      line-height: 1;
    }
    .text-8xl {
      font-size: 4rem;
      line-height: 1;
    }
    .text-6xl {
      font-size: 2.5rem;
      line-height: 1;
    }
    .text-5xl {
      font-size: 2rem;
      line-height: 1.2;
    }
  }
  
  /* Animation delay utilities for Spirit sparkle effects */
  .animation-delay-200 {
    animation-delay: 200ms;
  }
  
  .animation-delay-400 {
    animation-delay: 400ms;
  }
  
  .animation-delay-600 {
    animation-delay: 600ms;
  }

  /* Rich Text Editor Styling */
  .custom-quill .ql-toolbar {
    background: rgba(139, 92, 246, 0.1);
    border: 1px solid rgba(139, 92, 246, 0.3);
    border-radius: 8px 8px 0 0;
  }

  .custom-quill .ql-container {
    background: transparent;
    border: 1px solid rgba(139, 92, 246, 0.3);
    border-top: none;
    border-radius: 0 0 8px 8px;
    font-size: 16px;
    min-height: 120px;
  }

  .custom-quill .ql-editor {
    color: white;
    min-height: 100px;
    padding: 16px;
    line-height: 1.6;
  }

  .custom-quill .ql-editor.ql-blank::before {
    color: rgba(139, 92, 246, 0.6);
    font-style: italic;
  }

  .custom-quill .ql-toolbar .ql-stroke {
    stroke: rgba(255, 255, 255, 0.8);
  }

  .custom-quill .ql-toolbar .ql-fill {
    fill: rgba(255, 255, 255, 0.8);
  }

  .custom-quill .ql-toolbar .ql-picker-label {
    color: rgba(255, 255, 255, 0.8);
  }

  .custom-quill .ql-toolbar button:hover,
  .custom-quill .ql-toolbar button:focus {
    background: rgba(139, 92, 246, 0.2);
  }

  .custom-quill .ql-toolbar button.ql-active {
    background: rgba(139, 92, 246, 0.4);
  }

  /* Post content HTML styling */
  .post-content h1, .post-content h2 {
    font-weight: bold;
    margin: 16px 0 8px 0;
  }

  .post-content h1 {
    font-size: 1.5em;
  }

  .post-content h2 {
    font-size: 1.3em;
  }

  .post-content strong {
    font-weight: bold;
  }

  .post-content em {
    font-style: italic;
  }

  .post-content u {
    text-decoration: underline;
  }

  .post-content s {
    text-decoration: line-through;
  }

  .post-content blockquote {
    border-left: 3px solid rgba(139, 92, 246, 0.6);
    padding-left: 16px;
    margin: 16px 0;
    font-style: italic;
    background: rgba(139, 92, 246, 0.1);
    padding: 12px;
    border-radius: 4px;
  }

  .post-content code {
    background: rgba(0, 0, 0, 0.4);
    padding: 2px 6px;
    border-radius: 4px;
    font-family: 'Courier New', monospace;
    font-size: 0.9em;
  }

  .post-content pre {
    background: rgba(0, 0, 0, 0.6);
    padding: 16px;
    border-radius: 8px;
    overflow-x: auto;
    margin: 16px 0;
  }

  .post-content pre code {
    background: none;
    padding: 0;
  }

  .post-content ol, .post-content ul {
    margin: 12px 0;
    padding-left: 24px;
  }

  .post-content li {
    margin: 4px 0;
  }

  .post-content a {
    color: rgba(139, 92, 246, 0.9);
    text-decoration: underline;
  }

  .post-content a:hover {
    color: rgb(139, 92, 246);
  }
}

/* Realistic star animations */
@keyframes twinkle {
  0%, 100% {
    opacity: 0.3;
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(1.2);
  }
}

@keyframes shootingStar {
  0% {
    opacity: 0;
    transform: translateX(-40px) translateY(-40px) rotate(315deg);
  }
  3% {
    opacity: 0.8;
    transform: translateX(-35px) translateY(-35px) rotate(315deg);
  }
  8% {
    opacity: 0.6;
    transform: translateX(-20px) translateY(-20px) rotate(315deg);
  }
  15% {
    opacity: 0;
    transform: translateX(30px) translateY(30px) rotate(315deg);
  }
  100% {
    opacity: 0;
    transform: translateX(30px) translateY(30px) rotate(315deg);
  }
}

@keyframes cosmicPulse {
  0%, 100% {
    box-shadow: 0 0 5px rgba(147, 51, 234, 0.5);
  }
  50% {
    box-shadow: 0 0 20px rgba(147, 51, 234, 0.8), 0 0 30px rgba(147, 51, 234, 0.6);
  }
}

/* TermsHub Cookie Consent Mobile Responsiveness */
/* Target only the banner container that TermsHub injects at body > div level */
/* Avoid wildcards to prevent breaking modal/preference dialogs */

/* Cookie banner - fixed at bottom (use :not to exclude modals/dialogs) */
body > div[id*="termshub-banner"]:not([role="dialog"]):not([aria-modal]),
body > div[class*="termshub-banner"]:not([role="dialog"]):not([aria-modal]),
body > div[id*="cookie-banner"]:not([role="dialog"]):not([aria-modal]),
body > div[class*="cookie-banner"]:not([role="dialog"]):not([aria-modal]),
#termshub-cookie-banner:not([role="dialog"]),
.termshub-cookie-banner:not([role="dialog"]) {
  position: fixed !important;
  bottom: 0 !important;
  left: 0 !important;
  right: 0 !important;
  z-index: 10000 !important;
  transform: translateZ(0) !important;
  -webkit-transform: translateZ(0) !important;
  backface-visibility: hidden !important;
  -webkit-backface-visibility: hidden !important;
}

/* Cookie settings icon/button - floating button, not dialogs */
body > div[id*="termshub-icon"]:not([role="dialog"]),
body > div[class*="termshub-icon"]:not([role="dialog"]),
body > button[id*="cookie-settings"]:not([role="dialog"]),
body > button[class*="cookie-settings"]:not([role="dialog"]),
body > div[id*="cookie-icon"]:not([role="dialog"]),
body > div[class*="cookie-icon"]:not([role="dialog"]) {
  position: fixed !important;
  z-index: 10000 !important;
  transform: translateZ(0) !important;
  -webkit-transform: translateZ(0) !important;
}

/* Mobile-specific adjustments */
@media (max-width: 768px) {
  /* Cookie banner positioning on mobile - above bottom nav */
  body > div[id*="termshub-banner"]:not([role="dialog"]):not([aria-modal]),
  body > div[class*="termshub-banner"]:not([role="dialog"]):not([aria-modal]),
  body > div[id*="cookie-banner"]:not([role="dialog"]):not([aria-modal]),
  body > div[class*="cookie-banner"]:not([role="dialog"]):not([aria-modal]) {
    bottom: 0 !important;
    padding-bottom: max(12px, env(safe-area-inset-bottom, 0)) !important;
  }
  
  /* Cookie icon positioning on mobile - above bottom navigation */
  body > div[id*="termshub-icon"]:not([role="dialog"]),
  body > div[class*="termshub-icon"]:not([role="dialog"]),
  body > button[id*="cookie-settings"]:not([role="dialog"]),
  body > button[class*="cookie-settings"]:not([role="dialog"]),
  body > div[id*="cookie-icon"]:not([role="dialog"]),
  body > div[class*="cookie-icon"]:not([role="dialog"]) {
    bottom: 80px !important; /* Above mobile bottom nav */
    left: 16px !important;
    width: 48px !important;
    height: 48px !important;
    border-radius: 50% !important;
  }
  
  /* Only style banner buttons, not modal buttons */
  body > div[id*="termshub-banner"] button,
  body > div[class*="termshub-banner"] button,
  body > div[id*="cookie-banner"] button,
  body > div[class*="cookie-banner"] button {
    min-height: 44px !important; /* Touch-friendly target */
    padding: 12px 16px !important;
  }
}

/* Extra small devices */
@media (max-width: 480px) {
  /* Cookie icon on very small screens */
  body > div[id*="termshub-icon"]:not([role="dialog"]),
  body > div[class*="termshub-icon"]:not([role="dialog"]),
  body > button[id*="cookie-settings"]:not([role="dialog"]),
  body > button[class*="cookie-settings"]:not([role="dialog"]),
  body > div[id*="cookie-icon"]:not([role="dialog"]),
  body > div[class*="cookie-icon"]:not([role="dialog"]) {
    bottom: 70px !important;
    left: 12px !important;
    width: 44px !important;
    height: 44px !important;
  }
  
  /* Banner text sizing on small screens */
  body > div[id*="termshub-banner"],
  body > div[class*="termshub-banner"],
  body > div[id*="cookie-banner"],
  body > div[class*="cookie-banner"] {
    font-size: 14px !important;
    padding: 12px !important;
  }
}

/* iOS Safari specific fixes for cookie banner */
@supports (-webkit-touch-callout: none) {
  body > div[id*="termshub-banner"]:not([role="dialog"]):not([aria-modal]),
  body > div[class*="termshub-banner"]:not([role="dialog"]):not([aria-modal]),
  body > div[id*="cookie-banner"]:not([role="dialog"]):not([aria-modal]),
  body > div[class*="cookie-banner"]:not([role="dialog"]):not([aria-modal]) {
    bottom: env(safe-area-inset-bottom, 0) !important;
    padding-bottom: calc(12px + env(safe-area-inset-bottom, 0)) !important;
  }
}
